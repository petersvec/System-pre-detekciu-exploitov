#pragma once

#include <asio.hpp>
#include <thread>
#include <memory>
#include <iostream>

class TCPConnection;
extern std::unique_ptr<TCPConnection> tcpConnection;

class TCPConnection {
private:
	// socket na komunikaciu
	std::unique_ptr<asio::ip::tcp::socket> mSocket;

	// vlakno v ktorom sa budu spracuvat spravy
	std::thread mThread;
public:
	void establishConnection(const asio::ip::address &address, int port);

	std::unique_ptr<asio::ip::tcp::socket> getSocket() { return std::move(mSocket); }
};