package collectorsender;

import java.util.ArrayList;


public class Main {
    
    public static void main(String args[]){
        FilesReader fileReader = new FilesReader();
        ArrayList<String> filePaths = null;
        ConnectionEstablisherSender establisher = new ConnectionEstablisherSender();
        
        System.out.println("Start zasielania suborov.");
        
        filePaths = fileReader.scanFolder(args[0]);
        
        if (filePaths.size() == 0){
            System.out.println("Nie su subory na zaslanie.");
            System.exit(-1);
        }
        else{
        
            for (int i = 0; i < filePaths.size(); i++){
            
                establisher.establishAndSend(filePaths.get(i), args[1], Integer.parseInt(args[2]));
                
            }
            filePaths.clear();
        }
    
        System.out.println("Koniec zasielania suborov.");
        
        System.exit(1);
    }
    
}
